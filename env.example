# Database Configuration
DB_USER=mediavault
DB_PASSWORD=
POSTGRES_DB=mediavault
DATABASE_SSL=false

# Redis Configuration
REDIS_PASSWORD=

# Audit logging mode
# off       = no request-level audit logs
# failures  = log failed API requests only (recommended default)
# mutations = log mutating API requests + failures
# all       = log all API requests
AUDIT_LOG_MODE=failures

# Session Configuration
SESSION_SECRET=
INTEGRATION_ENCRYPTION_KEY=

# TMDB API Configuration
# Get your API key from https://www.themoviedb.org/settings/api
TMDB_PRESET=tmdb
TMDB_PROVIDER=tmdb
TMDB_API_URL=https://api.themoviedb.org/3/search/movie
TMDB_API_KEY=
TMDB_API_KEY_HEADER=
TMDB_API_KEY_QUERY_PARAM=api_key

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Frontend Configuration
REACT_APP_API_URL=/api

# Build metadata (optional, recommended for version display)
# APP_VERSION should match frontend/backend package.json version.
APP_VERSION=1.9.3-r1
# Set these at build time (example: GIT_SHA=$(git rev-parse --short HEAD))
GIT_SHA=dev
BUILD_DATE=unknown

# Production/Development
NODE_ENV=production
# For HTTPS production set to true; keep false for local HTTP testing.
SESSION_COOKIE_SECURE=false
# Reverse proxy trust (Express `trust proxy`):
# - set to 1 when running behind exactly one proxy hop (common docker/nginx setup)
# - set to false when accessing backend directly (no proxy)
TRUST_PROXY=1

# Optional: Email Configuration (for invites)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_email_password
SMTP_FROM=MediaVault <noreply@your-domain.com>

# Storage Provider
# local = filesystem under /uploads (default)
# s3    = S3-compatible object storage
STORAGE_PROVIDER=local

# Optional: Object Storage (for media files)
# Used when STORAGE_PROVIDER=s3
# AWS S3 or compatible services
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET=mediavault-uploads
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key
S3_REGION=us-east-1
S3_FORCE_PATH_STYLE=true
# Optional override for public URLs (e.g. CDN/custom domain)
S3_PUBLIC_BASE_URL=

# Optional: Image Recognition API
# For cover art recognition
VISION_PRESET=ocrspace
VISION_PROVIDER=ocrspace
VISION_API_URL=https://api.ocr.space/parse/image
VISION_API_KEY=your_vision_api_key_here
VISION_API_KEY_HEADER=apikey

# Optional: Barcode/UPC API
# For UPC scanning
BARCODE_PRESET=upcitemdb
BARCODE_PROVIDER=upcitemdb
BARCODE_API_URL=https://api.upcitemdb.com/prod/trial/lookup
BARCODE_API_KEY=your_barcode_api_key_here
BARCODE_API_KEY_HEADER=x-api-key
BARCODE_QUERY_PARAM=upc

# Optional: Plex API (manual import)
PLEX_PRESET=plex
PLEX_PROVIDER=plex
PLEX_API_URL=
PLEX_SERVER_NAME=
PLEX_API_KEY=
# Async Plex import tuning
# Minimum delay between TMDB enrichment calls during Plex imports (milliseconds)
TMDB_IMPORT_MIN_INTERVAL_MS=50
# How often async job progress is persisted (items processed per update)
PLEX_JOB_PROGRESS_BATCH_SIZE=25
# CSV import async progress update batch size (items per persisted update)
CSV_JOB_PROGRESS_BATCH_SIZE=25
