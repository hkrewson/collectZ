# v2.0.0-rc.1

## Version and date
- Version: `2.0.0-rc.1`
- Date: `2026-03-02`

## Milestone target and status
- Target milestone: `2.0.0-rc.1`
- Status: `Completed`

## Summary
This release candidate finalizes pre-2.0 hardening and validates mixed-media workflows with real tester traffic. It includes the fix for movie edit failures caused by legacy TV-only fields and locks the RC documentation and test evidence.

## What changed
- Fixed media PATCH resilience for type-specific fields:
  - Backend now strips incompatible type-specific fields (`season_number`, `episode_number`, `episode_title`, `network`) for non-TV updates before validation.
  - Frontend now only sends TV fields for `tv_series` and `tv_episode`.
- Version set to `2.0.0-rc.1` across canonical metadata and package manifests.
- RC docs finalized:
  - release notes,
  - test matrix,
  - go/no-go artifact.

## Breaking changes
- None.

## Environment/config changes
- Default image build args updated:
  - backend `APP_VERSION=2.0.0-rc.1`
  - frontend `REACT_APP_VERSION=2.0.0-rc.1`
- Runtime health/version now expected to report `2.0.0-rc.1` after rebuild/restart.

## Migration and data impact
- No new schema migration in RC.1.
- Data behavior change only: PATCH updates now ignore incompatible type-specific fields instead of failing validation.

## Deployment and verification
1. Rebuild and restart services:
   - `docker compose --env-file .env up -d --build`
2. Verify health/version:
   - `curl -sS http://localhost:3000/api/health`
   - Expect `"version":"2.0.0-rc.1"`.
3. Validate regression fix:
   - Edit/save movie `2081` (or any movie with legacy `network` value) and confirm save succeeds.
4. Run RC scripts:
   - `npm run test:rbac-regression`
   - `npm run test:cross-type-isolation` (with `RBAC_ADMIN_EMAIL` + `RBAC_ADMIN_PASSWORD`)

## Rollback guidance
- Roll back images to `2.0.0-beta.6` if needed.
- No schema rollback required for this RC.1 code-only patch.

## Security vulnerability triage
High findings: tracked in dependency triage workflow; no new RC.1 exceptions introduced.
Owner: @hkrewson
Target remediation milestone: `2.0.0` and post-2.0 dependency cadence.
- CI gates remain required:
  - gitleaks
  - dependency scan + triage checks
  - migration parity/rehearsal
  - compose smoke
  - image scan

## Known issues and follow-up
- Credentialed automation scripts require explicit env setup in local containers.
- Remaining deferred majors (Express 5, Zod 4, React 19, Tailwind 4) stay out of RC scope and remain tracked in dependency policy.
