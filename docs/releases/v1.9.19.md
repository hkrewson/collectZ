# v1.9.19

## Version and date
- Version: `1.9.19`
- Date: `2026-02-24`

## Milestone target and status
- Target: 1.9.19 CI security gates and release checklist enforcement
- Status: Completed

## Summary
Expanded CI into a stricter release gate with dependency/image vulnerability scanning, SBOM artifact generation, compose smoke validation, and explicit policy documentation for blocking thresholds and exceptions.

## What changed
### CI workflow
- Updated `/.github/workflows/docker-publish.yml` with new required jobs:
  - `dependency-scan`: backend/frontend `npm audit` with threshold enforcement.
  - `compose-smoke`: builds stack and verifies health/version/auth baseline.
  - `image-security-and-sbom`: Trivy image scans + CycloneDX SBOM generation/upload.
- Updated build dependencies so backend/frontend publish waits on dependency and smoke gates.
- Updated auto-tag dependency chain so tags are created only after all new gates pass.

### Policy docs
- Updated `/docs/wiki/14-Engineering-Delivery-Policy.md`:
  - added vulnerability triage policy,
  - defined default blocking threshold (`critical`),
  - documented temporary exception workflow requirements.
- Updated `/docs/wiki/10-CI-CD-and-Registry-Deploy.md`:
  - documented new CI gates,
  - documented default severity-blocking behavior.

### Versioning
- Bumped app/package/build metadata to `1.9.19`.

## Breaking changes
- CI is stricter and can now fail releases that previously passed without security/smoke validation.

## Environment/config changes
- No new runtime environment variables required for deployment.
- CI requires network access to vulnerability scanning tooling and package registries.

## Migration and data impact
- No database schema changes.
- No data migration impact.

## Deployment and verification
1. Trigger CI on `main` push or manual dispatch.
2. Confirm pipeline passes these required jobs:
   - `prepare`
   - `dependency-scan`
   - `migration-check`
   - `compose-smoke`
   - `backend`
   - `frontend`
   - `image-security-and-sbom`
   - `auto-tag`
3. Confirm artifacts uploaded:
   - dependency audit JSON files
   - init parity evidence
   - migration rehearsal evidence
   - backend/frontend CycloneDX SBOM files
4. Confirm deployed app health returns version `1.9.19`.

## Rollback guidance
- Revert workflow and policy doc changes to prior tag/commit if CI gate rollout causes blocking regressions.
- Use prior image tags for runtime rollback while CI policy adjustments are made.

## Known issues and follow-up
- Existing high-severity dependency findings may remain non-blocking under current threshold and should be tracked for remediation.
- Additional policy tightening (for `high`) can be introduced later once dependency cleanup baseline is stable.
