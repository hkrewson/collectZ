# v1.9.21

## Version and date
- Version: `1.9.21`
- Date: `2026-02-24`

## Milestone target and status
- Target: 1.9.21 secret hygiene and rotation readiness
- Status: Completed

## Summary
Added a blocking CI secret-scan gate and formalized secret rotation/incident response runbooks to harden pre-2.0 release operations.

## What changed
### Frontend
- No frontend behavior changes in this milestone.

### Backend
- No backend runtime behavior changes in this milestone.

### Database
- No schema changes.

### Docs/Ops
- Added blocking `gitleaks` secret scanning in CI release workflow.
- Wired secret-scan gate into backend/frontend publish and auto-tag jobs.
- Added roadmap milestones `1.9.21` through `1.9.25` for pre-2.0 go/no-go enforcement.
- Added `docs/wiki/15-Secrets-and-Rotation-Runbook.md` with:
  - secret generation guidance,
  - rotation procedures,
  - forced session invalidation command,
  - integration key re-encryption recovery flow.
- Updated wiki home and env docs to include secret runbook references.
- Updated engineering policy and CI docs to include secret scan as a mandatory release gate.

## Breaking changes
- None.

## Environment/config changes
- No new environment variables.
- Existing values remain required:
  - `SESSION_SECRET`
  - `INTEGRATION_ENCRYPTION_KEY`
  - `DB_PASSWORD`

## Migration and data impact
- No migrations required.
- No data changes.

## Deployment and verification
1. Rebuild and restart:
   - `docker compose --env-file .env up -d --build`
2. Verify app health:
   - `curl -s http://localhost:3000/api/health`
3. Verify CI workflow contains and executes `secret-scan` job.
4. Confirm docs include:
   - `docs/wiki/15-Secrets-and-Rotation-Runbook.md`
   - roadmap entries `1.9.21`â€“`1.9.25`.

## Rollback guidance
- Revert to previous image tag/version and redeploy if CI workflow changes need rollback.
- No DB rollback required.

## Known issues and follow-up
- Secret scanning does not retroactively rewrite history; exposed secrets still require rotation and potential history cleanup.
- Pre-2.0 hardening continues in `1.9.22` through `1.9.25`.
