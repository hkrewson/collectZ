# v2.0.0-beta.6

## Version and date
- Version: `2.0.0-beta.6`
- Date: `2026-03-01`

## Milestone target and status
- Target milestone: `2.0.0-beta.6`
- Status: `Completed`

## Summary
This milestone completes the comic import/enrichment foundation, adds signing-proof image attachment support with audit coverage, and publishes the reader feasibility spike output for RC planning.

## What changed
- Added signed-proof media field and APIs:
  - `signed_proof_path` on `media`.
  - `POST /api/media/:id/upload-signing-proof` (upload/replace).
  - `DELETE /api/media/:id/signing-proof` (remove).
  - Audit actions:
    - `media.signing_proof.upload`
    - `media.signing_proof.replace`
    - `media.signing_proof.remove`
- Updated validation and CRUD support to accept/persist `signed_proof_path`.
- Updated Media form UX:
  - Signing proof file picker supports upload and mobile capture (`capture="environment"`).
  - Inline controls for upload/remove/view current proof.
  - Edit/detail views display proof link when present.
- Kept Vision cover OCR explicit feedback behavior and cover upload flow intact.
- Added Calibre CSV import path:
  - `POST /api/media/import-csv/calibre`
  - maps common Calibre export columns to book/comic rows
  - runs the same dedupe + enrichment pipeline and async job tracking (`csv_calibre`)
- Added reader feasibility spike document:
  - `/docs/wiki/21-Reader-Feasibility-Spike.md`.

## Breaking changes
- None.

## Environment/config changes
- `APP_VERSION` default in `env.example` set to `2.0.0-beta.6`.

## Migration and data impact
- Added migration `v27`: `Add signed proof image path for media entries`.
- Schema change: `media.signed_proof_path TEXT`.
- `init.sql` parity updated with `signed_proof_path`.
- Existing data unaffected.

## Deployment and verification
1. Build and run updated services.
2. Confirm `/api/health` returns `2.0.0-beta.6`.
3. In edit mode for an existing item:
   - Upload signing proof image and save.
   - Verify proof link appears in detail drawer.
   - Remove proof and verify it clears.
4. Verify activity includes proof upload/replace/remove audit entries.

## Rollback guidance
- Roll back app images to `2.0.0-beta.5r1` if needed.
- If rollback includes schema rollback policy, `signed_proof_path` is additive and can remain; old versions ignore it.

## Security vulnerability triage
- High findings: present in dependency scan outputs; triaged per policy and tracked via staged dependency updates.
- CI security gates remain enforced for this release train:
  - gitleaks (no new secrets),
  - dependency scan with triage policy checks,
  - image scan gating.
- No new vulnerability exceptions were introduced in `2.0.0-beta.6`.
- Existing dependency advisories are tracked under the dependency-update policy and handled via staged Dependabot PRs with CI verification.

## Known issues and follow-up
- Comic provider quality still depends on upstream metadata consistency.
- Reader implementation remains out of scope for beta.6 and is tracked for RC decisions.
